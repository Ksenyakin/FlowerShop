{"ast":null,"code":"import React,{useState}from'react';import'./AuthForm.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterForm=()=>{const[name,setName]=useState('');const[password,setPassword]=useState('');const[address,setAddress]=useState('');const[phone,setPhone]=useState('');const[email,setEmail]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const[successMessage,setSuccessMessage]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');setSuccessMessage('');try{const response=await fetch('/api/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name,password,address,phone,email})});if(!response.ok){const errorData=await response.json();setError(errorData.message||'Ошибка при регистрации');return;}const data=await response.json();setSuccessMessage('Регистрация прошла успешно!');navigate('/login');}catch(err){console.error('Ошибка при регистрации:',err);setError('Произошла ошибка. Пожалуйста, попробуйте снова.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"name\",children:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",className:\"input\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"input\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"address\",children:\"\\u0410\\u0434\\u0440\\u0435\\u0441:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",className:\"input\",value:address,onChange:e=>setAddress(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"phone\",children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"phone\",className:\"input\",value:phone,onChange:e=>setPhone(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"email\",children:\"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"input\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:successMessage})]})]});};export default RegisterForm;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","RegisterForm","name","setName","password","setPassword","address","setAddress","phone","setPhone","email","setEmail","error","setError","loading","setLoading","successMessage","setSuccessMessage","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","message","data","err","console","className","children","onSubmit","htmlFor","type","id","value","onChange","target","required"],"sources":["C:/Users/DanKs/GolandProjects/flower-shop-backend/frontend/src/components/RegisterForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './AuthForm.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { SmartCaptcha } from '@yandex/smart-captcha';\r\n\r\nconst RegisterForm: React.FC = () => {\r\n    const [name, setName] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [address, setAddress] = useState('');\r\n    const [phone, setPhone] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setSuccessMessage('');\r\n\r\n        try {\r\n            const response = await fetch('/api/register', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ name, password, address, phone, email }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                setError(errorData.message || 'Ошибка при регистрации');\r\n                return;\r\n            }\r\n\r\n            const data = await response.json();\r\n            setSuccessMessage('Регистрация прошла успешно!');\r\n            navigate('/login');\r\n        } catch (err) {\r\n            console.error('Ошибка при регистрации:', err);\r\n            setError('Произошла ошибка. Пожалуйста, попробуйте снова.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n            <h2>Регистрация</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label className=\"label\" htmlFor=\"name\">Имя пользователя:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        className=\"input\"\r\n                        value={name}\r\n                        onChange={(e) => setName(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"label\" htmlFor=\"password\">Пароль:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        className=\"input\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"label\" htmlFor=\"address\">Адрес:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"address\"\r\n                        className=\"input\"\r\n                        value={address}\r\n                        onChange={(e) => setAddress(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"label\" htmlFor=\"phone\">Телефон:</label>\r\n                    <input\r\n                        type=\"tel\"\r\n                        id=\"phone\"\r\n                        className=\"input\"\r\n                        value={phone}\r\n                        onChange={(e) => setPhone(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"label\" htmlFor=\"email\">Электронная почта:</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        className=\"input\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <button type=\"submit\" className=\"button\">Зарегистрироваться</button>\r\n                {error && <p className=\"error-message\">{error}</p>}\r\n                {successMessage && <p className=\"success-message\">{successMessage}</p>}\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}