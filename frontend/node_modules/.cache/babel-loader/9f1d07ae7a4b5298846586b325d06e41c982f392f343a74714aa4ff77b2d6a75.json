{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import Header from'./Header';// ✅ Подключаем хедер\nimport Footer from'./Footer';// ✅ Подключаем футер\nimport'./ProductPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductPage=()=>{const{id}=useParams();const[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchProduct=async()=>{try{const response=await fetch(`/api/products/${id}`);if(!response.ok){throw new Error('Ошибка загрузки товара');}const data=await response.json();setProduct(data);}catch(error){setError('Ошибка загрузки товара. Пожалуйста, попробуйте позже.');console.error(error);}finally{setLoading(false);}};fetchProduct();},[id]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});if(!product)return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"\\u0422\\u043E\\u0432\\u0430\\u0440 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"product-page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image_url,alt:product.name,className:\"product-image\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"product-name\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[product.price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-stock\",children:[\"\\u0412 \\u043D\\u0430\\u043B\\u0438\\u0447\\u0438\\u0438: \",product.stock,\" \\u0448\\u0442.\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"product-button\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default ProductPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Header","Footer","jsx","_jsx","jsxs","_jsxs","ProductPage","id","product","setProduct","loading","setLoading","error","setError","fetchProduct","response","fetch","ok","Error","data","json","console","className","children","src","image_url","alt","name","description","price","stock"],"sources":["C:/Users/DanKs/GolandProjects/flower-shop-backend/frontend/src/components/ProductPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport Header from './Header';  // ✅ Подключаем хедер\r\nimport Footer from './Footer';  // ✅ Подключаем футер\r\nimport './ProductPage.css';\r\n\r\ninterface Product {\r\n    id: number;\r\n    category_id: number;\r\n    name: string;\r\n    description: string;\r\n    price: number;\r\n    stock: number;\r\n    image_url: string;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n}\r\n\r\nconst ProductPage: React.FC = () => {\r\n    const { id } = useParams<{ id: string }>();\r\n    const [product, setProduct] = useState<Product | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchProduct = async () => {\r\n            try {\r\n                const response = await fetch(`/api/products/${id}`);\r\n                if (!response.ok) {\r\n                    throw new Error('Ошибка загрузки товара');\r\n                }\r\n                const data = await response.json();\r\n                setProduct(data);\r\n            } catch (error) {\r\n                setError('Ошибка загрузки товара. Пожалуйста, попробуйте позже.');\r\n                console.error(error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchProduct();\r\n    }, [id]);\r\n\r\n    if (loading) return <div className=\"loading\">Загрузка товара...</div>;\r\n    if (error) return <div className=\"error\">{error}</div>;\r\n    if (!product) return <div className=\"error\">Товар не найден</div>;\r\n\r\n    return (\r\n        <div className=\"product-page\">\r\n            <Header />\r\n            <div className=\"product-details\">\r\n                <img\r\n                    src={product.image_url}\r\n                    alt={product.name}\r\n                    className=\"product-image\"\r\n                />\r\n                <h1 className=\"product-name\">{product.name}</h1>\r\n                <p className=\"product-description\">{product.description}</p>\r\n                <p className=\"product-price\">{product.price} ₽</p>\r\n                <p className=\"product-stock\">В наличии: {product.stock} шт.</p>\r\n                <button className=\"product-button\">Добавить в корзину</button>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}